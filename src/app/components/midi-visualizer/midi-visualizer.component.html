<h1>Music Box MIDI Visualizer</h1>
<div class="dropdown-select">
  <label for="filereader" class="click-button"> Select a MIDI file </label>
  <input type="file" id="filereader" />
</div>
<button class="click-button" onclick="runDemo()">Try demo file</button>

<div class="dropdown-select">
  <label for="boxType">Box Type: </label>
  <select id="boxType" (change)="setBoxType()" #boxType>
    <option value="15">15</option>
    <option value="20">20</option>
    <option value="30">30</option>
  </select>
</div>

<div class="dropdown-select">
  <label for="measures">Measures: </label>
  <select id="measures" (change)="setMeasureLength()" #measures>
    <option value="3">3/4</option>
    <option selected value="4">4/4</option>
    <option value="0">Off</option>
  </select>
</div>

<div class="dropdown-select">
  <label for="spacing">Note spacing: </label>
  <select name="" id="spacing" (change)="setSpacing()" #spacing>
    <option value="0.5">0.5x</option>
    <option value="0.67">0.67x</option>
    <option selected value="1">1x</option>
    <option value="1.5">1.5x</option>
    <option value="2">2x</option>
  </select>
</div>
<!-- 
<div>
  <p>Box Type: {{ mbt }}</p>
  <p>Note Spacing:</p>
  <p>Measure Length: {{ ml }}</p>
</div> -->

<canvas #myCanvas></canvas>

<div>
  Made by <a href="https://bit.ly/erinmusicbox">erinmusicbox.</a>
  <p>
    The demo button isn't working right now, but don't worry, this app is still
    being updated! Last update: January 13th, 2024
  </p>
</div>

<div>
  <label for="form">What do you think? Leave me some feedback!</label>
  <form id="form" [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label>Name: </label>
      <input type="text" formControlName="name" class="form-control" />
      <div *ngIf="submitted && f.name.errors" class="invalid">
        <div *ngIf="f.name.errors.required">Name is required</div>
      </div>
    </div>
    <div class="form-group">
      <label>Email: </label>
      <input type="text" formControlName="email" class="form-control" />
      <div *ngIf="submitted && f.email.errors" class="invalid">
        <div *ngIf="f.email.errors.required">Email is required</div>
        <div *ngIf="f.email.errors.email">Please use a valid email</div>
      </div>
    </div>
    <div class="form-group">
      <label>Message: </label>
      <textarea formControlName="message" class="form-control"></textarea>
      <div *ngIf="submitted && f.message.errors" class="invalid">
        <div *ngIf="f.message.errors.required">Message is required</div>
      </div>
    </div>
  </form>
  <div class="form-group">
    <button type="submit" (click)="onSubmit()">Submit</button>
  </div>
</div>
